<p align="center">
  <a href="" rel="noopener">
 <img width=200px height=200px src="https://d1yjjnpx0p53s8.cloudfront.net/styles/logo-thumbnail/s3/0012/5120/brand.gif?itok=mqo4KWCS" alt="Project logo"></a>
</p>

<h3 align="center">CVE Search API</h3>

<div align="center">

  [![Status](https://img.shields.io/badge/status-active-success.svg)]() 
  [![License](https://img.shields.io/badge/license-MIT-blue.svg)](/LICENSE)

</div>

---

<p align="center"> This app allows users to search for cybersecurity issues.
    <br> 
</p>

## ğŸ“ Table of Contents
- [About](#about)
- [Getting Started](#getting_started)
- [Deployment](#deployment)
- [Usage](#usage)
- [Built Using](#built_using)
- [Notes](#notes)

## ğŸ§ About <a name = "about"></a>
You can check the security issues of every well known software using this API.

## ğŸ Getting Started <a name = "getting_started"></a>
These instructions will get you a copy of the project up and running on your local machine for development and testing purposes.

### Prerequisites
Just have docker installed, cd to the project's directory and run:

```
docker build -t task:latest .
```

## ğŸˆ Usage <a name="usage"></a>
Run the docker from the project's directory:
```
docker run -p 5000:5000 task:latest
```
Then use one of the APIs to query the service:

1. curl localhost:5000/task/api/v1.0/get/[vendor]/[product]
2. curl localhost:5000/task/api/v1.0/search/[keyword]
3. curl localhost:5000/task/api/v1.0/search -d '{"keywords": ["k1", "k2"]}'

## â›ï¸ Built Using <a name = "built_using"></a>
- [Flask](https://palletsprojects.com/p/flask/) - Web application

## ğŸ‰ Notes <a name = "notes"></a>
I chose this relatively basic architecture of Python + Flask for the web server and the basic requests dep for initiating the requests to CIRCL.
For a more scalable solution I'd use Nginx+uWSGI and a dep that handles requests asynchronously better (aiohttp for example).

In order to reduce cost, I created a basic cache that saves the results for 2 hours (configurable) before querying CIRCL.
For a real life solution, I'd either build a centralized cache or use Redis.

Generally speaking, there are 3 models: Get (to get info about a specific product) and Search (to get info about keyword(s)) and an error handler.

Some improving points: Add authentication (OAuth), logger, an abstract config class, better tests, implement better input validation.